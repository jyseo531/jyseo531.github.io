---
title: 2D Gaussian Splatting, SIGGRAPH 2024
author: jiyoung
date: 2025-02-03 15:34:00 +0800
categories: [Paper Review]
tags: [Geometry Reconstruction, Mesh extraction, Novel View Synthesis, Graphics]
---


<script type="text/javascript">
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


## Intro

- 3DGS : Rederingê²°ê³¼ Inconsistencyí•œ depthë°œìƒ, ì™œëƒí•˜ë©´ pixel rayì‚¬ì´ì˜ intersectionì„ í†µí•´ gaussian valueë¥¼ êµ¬í•˜ê¸° ë•Œë¬¸
- 2DGS : **explicit ray-splat intersection ì´ìš©**
- surface normal ì •í™•í•˜ê²Œ ì¶”ì¶œí•˜ë©´ meshë„ ì˜ êµ¬í•´ì§
    1. **depth distortion**
        
        : 2D primitivesì— ì§‘ì¤‘í•´ì„œ ë” ì¢ì€ ë²”ìœ„ì˜ rayì— ê°€ìš°ì‹œì•ˆë“¤ì´ ë¶„í¬í•˜ê²Œ í•´ì¤Œ
        
    2. **normal consistency**
        
        : rendered normal mapê³¼ rendered depthì˜ gradient ì‚¬ì´ì˜ discrepancies ë¥¼ ìµœì†Œí™”í•¨
        
    
    ë‘ ê°œ regularaization termì„ ì´ìš©í•´ì„œ smoother surface êµ¬í•¨
    

## Contributions

- efficient differentiable 2D Gaussian Renderer
- surface reconì„ ìœ„í•œ 2ê°€ì§€ ì •ê·œí™” í…€ ì†Œê°œ (depth distortion, normal consistency)
- sota Reconstruction & NVS result

---

![image.png](assets/img/posts_storage/2DGS/image-10.png)

## 1. Modeling

![image.png](assets/img/posts_storage/2DGS/image-11.png)

- normal = the steepest change of density
    - better alignment with thin surfaces
- input = **only a sparse calibration point cloud** & **photometric supervision**

### 2D Gaussian Explicit Properties

- central point $p_k$
- two principal tangential vector $t_u, t_v$
- scaling vector $S = (s_u, s_v)$

- primitive normal : $t_w = t_u \times t_v$
- 3x3 Rotation matrix $R = [t_u, t_v, t_w]$

- 2D Gaussianë“¤ì€ local tangent planeì— ì •ì˜ë¨
- $P(u,v) = p_k + s_ut_uu + s_vt_vv =H(u,v,1,1)^T$ â‡’  ***world space***ì—ì„œ ì •ì˜ëœ local tangent planeì—ì„œì˜ 2D Gaussian  point
    
    where $H$   is the homogeneous transformation matrix, representing the geometry of the 2D Gaussian
    
- $G($u$) = exp(-\frac{u^2+v^2}{2})$
    
    $point - \mathrm{u} = (u, v)$
    

## 2. Splatting

- image spaceë¡œ 2D Gaussianë“¤ì„ projectí•˜ëŠ” ê³¼ì •
- **affine approximation of Perspective Transformation** ì´ìš©
    - Perspective transformationì€ í‰í–‰ì„±ì´ ì§€ì¼œì§€ì§€ ì•ŠìŒ, parallelí•œ lineë“¤ì´ ì†Œì‹¤ì (vanishing point)ì—ì„œ ë§Œë‚¨
    - í•œê³„ì (ì„ í–‰ ì¡°ê±´í•„ìš”) :
        
        1. center of the Gaussianì´ ì •í™•í•´ì•¼í•˜ê³ ,
        
        2. centerë¡œë¶€í„°ì˜ ê±°ë¦¬ê°€ ë©€ì–´ì§ˆìˆ˜ë¡ approximation errorê°€ ì¦ê°€í•´ì•¼í•¨
        
- homogeneous coordinateì„ ì´ìš©í•´ì„œ ì™„í™”ëœ í•´ê²°ë°©ë²• ì œì•ˆë¨
- 2D Splatì„ 2D image planeì— projectioní•œëŠ ê±´ ì¼ë°˜ì ì¸ 2D-to-2D mapping in homogeneous coordinateì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤

- $W$ :  transformation matrix from ***World space to Screen space***
- ***Screen space***ì—ì„œì˜ projected points $\mathrm{x}$
    
    $\mathrm{x} = (xz, yz, z, 1)^T = WP(u,v) = WH(u,v,1,1)^T$ ë¡œ êµ¬í•´ì§
    

- 2D Gaussianë“¤ì„ rasterizeí•˜ë ¤ë©´, inverse transfomation ì¸ $M= (WH)^{-1}$ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆìœ¼ë‚˜, ì´ ë°©ë²•ì€  numerical instabilityí•¨ íŠ¹íˆ splatì´ line segment(viewê°€ ì˜†ë©´ì—ì„œ ë³´ì´ëŠ” ìƒí™©ì¸ ê²½ìš°, )ì—ì„œ íŠ¹íˆ ê²°í•¨ì´ ë§ìŒ
- ì´ ë¬¸ì œ í•´ê²°ìœ„í•´ previous surface splatting rendering methodë“¤ì€ ë¯¸ë¦¬ ì •ì˜ëœ predefined thresholdì„ ì´ìš©í•´ì„œ  ill-conditioned transformationì„ ì´ìš©í•´ì™”ìŒ *(related work)*
    
    ![image.png](assets/img/posts_storage/2DGS/image-9.png)
    

â‡’ ëª¨ë‘ unstableí•¨, ë”°ë¼ì„œ ë³¸ ë…¼ë¬¸ì—ì„œëŠ” **â€œRay-Splat Intersectionâ€** ê¸°ë°˜ ë°©ë²•ì„ ì œì•ˆ

### 2-1. Ray-Splat Intersection

- í‰í–‰í•˜ì§€ ì•Šì€ 3ê°€ì§€ í‰ë©´ (three non-parallel planes) ì—ì„œì˜ êµì ì„ ì°¾ìŒìœ¼ë¡œì¨ ray-splat intersectionì„ ìœ„ì¹˜ì‹œí‚´  (??)

- image space coordinate $\mathrm{x} = (x, y)$ê°€ ì£¼ì–´ì¡Œì„ ë•Œ,
    
    ë‘ê°œì˜ ìˆ˜ì§ plane (x-planeê³¼ y-plane)ì˜ êµì°¨ rayë¥¼ íŒŒë¼ë¯¸í„°í™”í•œë‹¤
    
    ![image.png](assets/img/posts_storage/2DGS/image-8.png)
    
1. x - plane : normal vectorì¸ (-1, 0, 0)ê³¼ offset xë¡œ ì •ì˜ë¨ 
    
    â‡’ **4D homogeneous Plane** (homogeneous coordinateì„ ì´ìš©í•œ 4D ì¢Œí‘œê³„ í‘œí˜„í•œ ê°œë…) 
    
    $h_x = (-1, 0, 0, x)^T$
    
2. y - plane : normal vectorì¸ (0, -1, 0)ê³¼ offset yë¡œ ì •ì˜ë¨
    
    â‡’ $h_y = (0, -1,  0, y)^T$
    
3. ray $\mathrm{x} = (x,y),$  ( Image Coordinate ) ëŠ” x-planeê³¼ y-planeì‚¬ì´ì˜ êµì°¨ë˜ëŠ” lineì— ëŒ€í•œ ì¢Œí‘œë¡œ ê²°ì •

- ê°ê°ì˜ planeì„ 2D Gaussianì˜ local coordinate**( $uv-$coordinate system)ìœ¼ë¡œ** ë³€í™˜í•´ì•¼ í•¨
- pointë¡œë¶€í„° planeìœ¼ë¡œì˜ transformation matrix $M$ ì˜ ì—­í–‰ë ¬ì„ ê³±í•´ì£¼ëŠ” Inverse Transpose $M^{-1}$ì„ ìˆ˜í–‰í•´ì•¼ intersection of the x&y-planeì— ëŒ€í•œ ì¢Œí‘œë¥¼ ì•„ë˜ì²˜ëŸ¼ êµ¬í•  ìˆ˜ ìˆìŒ,
    - ì´ ë•Œ $M = (WH)^{-1}$, $M^{-T} =  (WH)^T$
        
        $$
        \begin{align} h_u = (WH)^Th_x
         \\ h_v = (WH)^Th_y \end{align}
        $$
        
        where, W : world spaceì—ì„œ screen spaceë¡œ ê°€ëŠ” ë³€í™˜ í–‰ë ¬, H : homogeneous ì¢Œí‘œê³„ë¡œ ë³€í™˜í•˜ëŠ” í–‰ë ¬
        
    
- ë‘ í‰ë©´ì´ ë§Œë‚˜ëŠ” **intersection point** $\mathrm{u}(\mathrm{x})$  êµ¬í•˜ê¸°
    - 2D Gaussianì˜ point  : $(u, v, 1, 1)$
        
         $h_u^i , h_v^i$ ëŠ” 4D homogeneous plane íŒŒë¼ë¯¸í„°ë“¤ ì¤‘ì—ì„œ ië²ˆì¨° íŒŒë¼ë¯¸í„°ë¥¼ ì˜ë¯¸í•¨
        
    
    $$
    \begin{align}h_u \cdot (u,v,1,1)^T = h_v \cdot (u,v,1,1)^T = 0
    \\ u(\mathrm{x}) = \frac{h_u^2h_v^4-h_u^4h_v^2}{h_u^1h_v^2-h_u^2h_v^1} \\ v(\mathrm{x}) = \frac{h_u^4h_v^1-h_u^1h_v^4}{h_u^1h_v^2-h_u^2h_v^1} \end{align}
    $$
    
- ***Screen space***ì—ì„œì˜ projected points
    
    $\mathrm{x} = (xz, yz, z, 1)^T = WP(u,v) = WH(u,v,1,1)^T$
    
    ì´ê±° ì‹ì„ Recallí•´ì„œ $x, y, u, v$ ë‹¤ ì•„ë‹ˆê¹Œ depth $z$ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
    

---

## 3. Improvements

### 3-1. Degenerate Case

- **object-space low-pass filter** ì œì•ˆ

$$
\begin{align}
    \widehat{G}(\mathrm{x}) = \max \left\{ G(\mathrm{u}(\mathrm{x})), G\left(\frac{\mathrm{x}-c}{\sigma}\right) \right\}
\end{align}

$$

â‡’ ì§ê´€ì ì¸ ìˆ˜ì‹ ì˜ë¯¸ = fixed screen-space(ì˜¤ë¥¸ìª½ í•­)ì—ì„œì˜ Gaussianì´ë‘ ìœ„ì—ì„œ êµ¬í•œ intersection point u(x)ì—ì„œì˜ ê°€ìš°ì‹œì•ˆì¤‘ì— ë” í° ê°’ì„ ì„ íƒí•˜ì—¬ degenerateí•˜ëŠ” ê°€ìš°ì‹œì•ˆë“¤ ì—†ì•° 

where $c$  : projection of center $p_k$

ë³¸ ì‹¤í—˜ì—ì„œëŠ” $\sigma = \sqrt{2}/2$ë¡œ ì„¤ì •í•¨

- **Volumetric alpha blending (Rasterization)**
    
    $$ c(\mathrm{x}) = \sum_{i = 1}c_i\alpha_i\widehat{G}_i(\mathrm{u}(\mathrm{x}))\prod_{j =1}^{i-1}(1-\alpha_i \widehat{G}_i(\mathrm{u}(\mathrm{x})))$$
    

## 4. Training

- 3DGSì˜ photometric lossì—ë‹¤ê°€ 2ê°€ì§€ ì •ê·œí™” í…€ì„ ì¶”ê°€ì‹œì¼œì„œ ë” smoothí•œ surface alignì„ ì´‰ì§„í•˜ì—¬ geometry reconstructionì˜ ì„±ëŠ¥ í–¥ìƒ

### 4.1. Depth Distortion

- Depth distortion loss : ray-splat intersectionê²°ê³¼ìƒ êµ¬í•œ **depth ê°„**ì˜ ê±°ë¦¬ ì°¨ë¥¼ ìµœì†Œí™”í•¨ìœ¼ë¡œì¨ rayì— ì¡´ì¬í•˜ëŠ” weightì„ ë” concentrateí•´ì¤Œ,  Mip-Nerf360ì—ì„œ ì˜ê° ë°›ìŒ
    
    $$
    \begin{align} L_d = \sum_{i,j}w_iw_j|z_i-z_j| \end{align} 
    $$
    
    where, $w_i :$ië²ˆì§¸ intersectioní•˜ëŠ” ì§€ì ì—ì„œì˜ **blending weight**
    
    $z_i :$ ië²ˆì§¸ êµì°¨ì ì—ì„œì˜ depth
    

### 4.2. Normal Consistency

- êµì°¨í•˜ëŠ” median point(ì¤‘ê°„ ì§€ì ) $p_s$ì—ì„œ actual surface ê³ ë ¤
- ì¶•ì ëœ opacityê°€ 0.5ê°€ ë˜ë©´, splatëœ ê°€ìš°ì‹œì•ˆë“¤ì˜ normalê³¼ depth mapì—ì„œì˜ gradientë¥¼ ê³ ë ¤í•´ì„œ aligní•´ì£¼ëŠ” ê³¼ì •
    
    $$
    \begin{align}L_n = \sum_iw_i(1-n_i^T\mathrm{N}) \end{align}
    $$
    
    where $i :$ rayìƒì— ì¡´ì¬í•˜ëŠ” intersected ëœ splatë“¤
    
    $w :$ blending weight of the intersection point
    
    $n_i :$ normal of the splat that is oriented towards the camera
    
    $\mathrm{N} :$ normal estimate by the gradient of the depth map
    

### Final Loss

 : $L = L_c + \alpha L_d + \beta L_n$

$L_c :$ RGB reconstruction loss combining L1 with the D-SSIM term

ğ›¼ = 1000 for bounded scenes, ğ›¼ = 100 for unbounded scenes, and ğ›½ = 0.05 for all scenes.

---

---

## 5. Experiments

- single RTX 3090
- **Datasets**
    1. DTU
        - 15ê°œ ì”¬ìœ¼ë¡œ êµ¬ì„±ë¨ (49ì¥ ë˜ëŠ” 69ì¥ ì´ë¯¸ì§€, resolution = 1600 x 1200)
        - Colmapìœ¼ë¡œ sparse point cloudì–»ì–´ì§„ ìƒíƒœ, í•´ìƒë„ë¥¼ 800 x 600 ìœ¼ë¡œ downsampleí•œ ì´í›„ì— ì‚¬ìš©í•¨ íš¨ìœ¨ì„±ì„ ìœ„í•´ì„œ
    2. TnT
    3. MipNerf360

- **Evaluation Metrics**
    - PSNR
    - SSIM
    - LIPPS

---

## Limitations

- assume surfaces with full opacity and extract meshes from multi-view depth maps
    - **semi-transparentí•œ í‘œë©´**ì—ì„œëŠ” ì˜ ë³µì›ì´ ì•ˆë¨, ìœ ë¦¬ê°™ì€ ë¶€ë¶„

![image.png](assets/img/posts_storage/2DGS/image-12.png)

- fine geometric structureì— ëŒ€í•´ì„œëŠ” ëœ ì •í™•í•¨
- regularization termì‚¬ìš©í•  ë•Œ ì´ë¯¸ì§€ í€„ë¦¬í‹°ì™€ geometryê°„ì˜ trade-offê°€ ë°œìƒí•¨ â‡’ íŠ¹ì • ì˜ì—­ì—ì„œ over-smoothê²°ê³¼ ì´ˆë˜í•  ìˆ˜ ìˆìŒ
